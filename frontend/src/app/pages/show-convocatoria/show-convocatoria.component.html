<div class="container text-center">
  <div class="mt-4">
      <img src="/assets/espeLogo.png" width="250" alt="" />
      <h2 style="color: #02152B;">Gestión Convocatorias</h2>
      <button type="button" class="btn" style="background-color: #02152B; color: white;" routerLink="/principal">Regresar</button>
  </div>
  <div class="d-grid gap-2">
      <a routerLink="/createConvocatoria" class="btn" style="background-color: #02152B; color: white;" type="button">
          <fa-icon [icon]="faCirclePlus" [size]="'2x'"></fa-icon>
      </a>
  </div>
  <div class="table-responsive">
      <table class="table table-hover" style="background-color: #fff; color: #333; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
          <thead>
              <tr style="background-color: #02152B; color: #fff;">
                  <th style="display: none;">Id</th>
                  <th>Programa</th>
                  <th>Fecha de Publicación</th>
                  <th>Fecha Límite</th>
                  <th>Dirección Web</th>
                  <th>Número BOE DOGV</th>
                  <th>Fecha de Resolución</th>
                  <th>Solicitudes</th>
                  <th>Actions</th>
              </tr>
          </thead>
          <tbody>
              <tr *ngFor="let convocatoria of convocatorias; let i = index">
                  <td style="display: none;">{{ convocatoria._id }}</td>
                  <td>{{ convocatoria.programa }}</td>
                  <td>{{ convocatoria.fecha_publicacion | date:'short' }}</td>
                  <td>{{ convocatoria.fecha_limite | date:'short' }}</td>
                  <td>{{ convocatoria.direccion_web }}</td>
                  <td>{{ convocatoria.numero_BOE_DOGV }}</td>
                  <td>{{ convocatoria.fecha_resolucion | date:'short' }}</td>
                  <td>
                      <ol>
                          <li *ngFor="let solicitudId of convocatoria.solicitudes">
                              {{ getSolicitudById(solicitudId)?.titulo_proyecto }}
                          </li>
                      </ol>
                  </td>
                  <td>
                      <div class="btn-group">
                          <a routerLink="/updateConvocatoria/{{ convocatoria._id }}" class="btn" style="background-color: #02152B; color: white;">
                              <fa-icon [icon]="faPen"></fa-icon>
                          </a>
                          <button (click)="delete(convocatoria._id, i)" class="btn" style="background-color: #02152B; color: white;">
                              <fa-icon [icon]="faTrash"></fa-icon>
                          </button>
                      </div>
                  </td>
              </tr>
          </tbody>
      </table>
  </div>
</div>
